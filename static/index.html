<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobFit.ai</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Resume Overlay (no changes here) -->
    <div id="resume-overlay">
        <div id="resume-editor">
            <h2>Resume</h2>
            <textarea id="resume-input" placeholder="Paste your full resume text here..." maxlength="8000"></textarea>
            <div class="editor-footer">
                <div id="resume-char-counter" class="char-counter"><span id="resume-current-chars">0</span> / 8000</div>
                <button id="save-resume-button">Save & Close</button>
            </div>
        </div>
    </div>

    <!-- NEW: Main Layout Wrapper -->
    <div id="layout-wrapper">
        <!-- NEW: History Panel -->
        <aside id="history-panel">
            <div id="history-header">
                <h3>History</h3>
                <button id="clear-history-button" title="Clear all history">Clear</button>
            </div>
            <div id="history-list">
                <!-- History items will be populated by JavaScript -->
            </div>
        </aside>

        <!-- App Container (no major changes inside) -->
        <div id="app-container">
            <header id="app-header">
                <div id="logo-container">
                    <h1>JobFit.ai</h1>
                     <svg id="app-logo" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            width="100%" viewBox="0 0 1024 1024" enable-background="new 0 0 1024 1024" xml:space="preserve" focusable="false" aria-hidden="true">
                        <path opacity="1.000000" stroke="none" 
                            d="
                        M784.593262,601.551025 
                            C807.635559,649.273682 798.733032,705.875488 762.753906,744.304932 
                            C741.145447,767.385132 714.682800,780.861389 683.588501,785.076965 
                            C657.459045,788.619568 632.164490,785.108276 608.185913,773.724243 
                            C605.839233,772.610107 603.509399,772.245544 600.960938,772.246460 
                            C494.984894,772.282959 389.008881,772.306335 283.032837,772.275635 
                            C253.826752,772.267212 230.752441,749.130798 230.746246,719.883911 
                            C230.715408,574.250427 230.707245,428.616913 230.727631,282.983429 
                            C230.731781,253.319702 248.932602,232.175278 278.002136,227.895065 
                            C279.802277,227.630020 281.659332,227.700638 283.489929,227.700439 
                            C377.135468,227.690628 470.781006,227.721069 564.426392,227.600769 
                            C569.316406,227.594482 573.144775,228.998413 576.510010,232.338638 
                            C611.153503,266.725098 645.773743,301.135223 680.520813,335.416748 
                            C684.164490,339.011627 685.389954,342.875427 685.379456,347.863464 
                            C685.259705,404.850342 685.297485,461.837585 685.306030,518.824707 
                            C685.307556,528.930298 684.606873,527.139038 693.726990,529.237305 
                            C735.350281,538.813477 765.201782,563.347961 784.593262,601.551025 
                        M660.708801,518.356567 
                            C660.704895,469.368408 660.707458,420.380249 660.689392,371.392090 
                            C660.686829,364.525360 660.437378,364.308441 653.740051,364.305054 
                            C633.744568,364.294891 613.749023,364.318817 593.753662,364.274750 
                            C587.331055,364.260590 581.187378,362.784912 575.495850,359.834778 
                            C560.893005,352.265503 554.950317,339.519745 554.793945,323.747345 
                            C554.584290,302.587494 554.744019,281.424072 554.723633,260.262207 
                            C554.716919,253.335281 554.686035,253.315231 547.822144,253.314758 
                            C508.331055,253.312088 468.839966,253.324112 429.348877,253.322723 
                            C381.692963,253.321045 334.036133,253.478806 286.381714,253.209457 
                            C270.630432,253.120422 256.515259,263.545258 257.034271,281.369751 
                            C257.388092,293.520813 256.976257,305.692993 256.974579,317.855743 
                            C256.963318,399.835876 256.951080,481.816010 256.978210,563.796143 
                            C256.995117,614.950195 257.056000,666.104309 257.148132,717.258301 
                            C257.180084,734.987366 268.051178,746.671204 284.702515,746.680359 
                            C377.848206,746.731567 470.993896,746.708984 564.139587,746.683960 
                            C565.894165,746.683472 567.868286,747.221985 569.299255,745.364319 
                            C569.539368,742.692017 567.343811,741.355774 565.903503,739.641968 
                            C542.504517,711.800232 532.978149,679.782349 536.546753,643.644104 
                            C539.727051,611.437134 553.346191,584.383850 576.289551,561.878418 
                            C597.814270,540.764587 623.780334,529.212463 653.778015,526.815674 
                            C660.702820,526.262390 660.729431,526.595337 660.708801,518.356567 
                        M768.161194,682.711548 
                            C774.037781,659.485474 772.938843,636.457581 762.442444,615.015320 
                            C742.530518,574.338745 709.627319,552.777710 663.851257,552.284302 
                            C636.105286,551.985229 612.376709,562.174988 593.102356,581.864319 
                            C570.288574,605.169373 559.327393,633.135376 562.224426,666.083618 
                            C564.166687,688.172546 571.885437,708.042175 586.552612,724.518982 
                            C615.753235,757.322388 652.394836,768.414368 694.483948,756.432617 
                            C731.778442,745.815857 756.904724,721.365784 768.161194,682.711548 
                        M626.499023,337.725739 
                            C630.657776,337.718811 634.819275,337.799316 638.973938,337.665558 
                            C640.855591,337.604950 643.409241,338.629791 644.397949,336.370026 
                            C645.395752,334.089569 642.990234,332.895020 641.637512,331.558350 
                            C624.483398,314.608307 607.312805,297.674805 590.102844,280.781525 
                            C587.060425,277.795166 584.275574,274.488708 580.752869,272.198944 
                            C579.647156,272.803162 579.415405,273.610260 579.415833,274.444000 
                            C579.423706,290.743408 578.959839,307.063843 579.653564,323.334717 
                            C580.102417,333.861176 585.293823,337.677155 596.055603,337.701447 
                            C605.870178,337.723602 615.684814,337.718872 626.499023,337.725739 
                        z"/>
                        <path opacity="1.000000" stroke="none" 
                            d="
                        M367.000000,513.198242 
                            C353.012054,513.191528 339.523834,513.232178 326.036194,513.161316 
                            C313.839508,513.097229 308.658234,506.119934 310.020935,494.102112 
                            C313.765747,461.075653 341.510712,438.552338 371.388580,434.003662 
                            C373.350006,433.705078 375.370697,433.721008 377.363983,433.718628 
                            C394.348999,433.698303 411.334076,433.688293 428.319061,433.712280 
                            C460.015656,433.757050 489.776886,457.564606 496.746368,488.459412 
                            C497.330139,491.047211 497.801178,493.671295 498.136078,496.302521 
                            C499.463196,506.729523 493.879333,513.062866 482.897980,513.136353 
                            C461.584442,513.278931 440.269348,513.197327 418.954895,513.201843 
                            C401.803253,513.205444 384.651642,513.198975 367.000000,513.198242 
                        z"/>
                        <path opacity="1.000000" stroke="none" 
                            d="
                        M444.353943,402.333557 
                            C412.447052,433.279358 361.972137,420.677856 348.797363,378.794617 
                            C340.730499,353.149780 356.644531,322.409180 382.923615,312.874146 
                            C417.135376,300.460846 454.328156,321.837494 459.895233,357.797791 
                            C462.528137,374.805145 456.056763,389.507324 444.353943,402.333557 
                        z"/>
                        <path opacity="1.000000" stroke="none" 
                            d="
                        M369.999939,603.278809 
                            C354.178223,603.271606 338.855804,603.349670 323.535187,603.216309 
                            C317.072845,603.159973 312.559448,599.564331 310.923431,593.779541 
                            C309.308350,588.068848 311.360413,582.667969 316.248718,579.376404 
                            C318.300140,577.995117 320.503876,577.673950 322.886108,577.674622 
                            C377.678070,577.690735 432.470001,577.668457 487.261963,577.703308 
                            C494.848389,577.708191 499.990448,582.679016 500.281982,589.961792 
                            C500.550690,596.673889 495.110199,602.578857 487.907684,603.193176 
                            C485.261322,603.418884 482.581787,603.267029 479.917358,603.267456 
                            C443.444885,603.273193 406.972443,603.275452 369.999939,603.278809 
                        z"/>
                        <path opacity="1.000000" stroke="none" 
                            d="
                        M350.999939,665.191650 
                            C341.680420,665.177429 332.857819,665.300598 324.042175,665.107910 
                            C314.540436,664.900269 308.826477,657.297058 310.996948,648.091309 
                            C312.409027,642.102173 317.271851,638.797119 325.132477,638.781616 
                            C351.757507,638.729065 378.382660,638.749207 405.007782,638.744873 
                            C415.657837,638.743164 426.311462,638.578430 436.956940,638.800781 
                            C447.854065,639.028381 453.888550,649.963013 448.285767,659.044861 
                            C444.954529,664.444580 439.523712,665.162231 433.870819,665.166260 
                            C411.239685,665.182373 388.608521,665.169922 365.977386,665.170898 
                            C361.151581,665.171082 356.325775,665.183350 350.999939,665.191650 
                        z"/>
                        <path opacity="1.000000" stroke="none" 
                            d="
                        M622.118042,682.880615 
                            C616.268311,676.700195 610.287476,671.080566 605.153625,664.771729 
                            C598.073547,656.071350 602.350952,645.179871 613.250671,643.103333 
                            C618.252014,642.150574 621.883911,644.690002 625.146423,648.004395 
                            C632.272339,655.243835 639.368408,662.512695 646.501282,669.745300 
                            C648.124817,671.391541 649.848145,672.939331 652.127075,675.103882 
                            C656.737000,670.040222 661.187439,665.212524 665.571411,660.325195 
                            C680.576294,643.597412 695.506165,626.801941 710.583618,610.140076 
                            C714.485229,605.828491 719.439453,603.464844 725.379883,605.280518 
                            C730.301086,606.784668 733.783752,609.910156 734.643616,615.339783 
                            C735.354309,619.827698 733.699524,623.532593 730.804260,626.731506 
                            C713.604797,645.735352 696.371094,664.708252 679.125549,683.670288 
                            C673.861816,689.457947 668.600098,695.250610 663.203125,700.913086 
                            C655.127502,709.385925 647.219971,709.351624 639.176025,700.919373 
                            C633.545227,695.016785 627.966553,689.064331 622.118042,682.880615 
                        z"/>
                    </svg>
                </div>
                <button id="edit-resume-button" class="hidden">Edit Resume</button>
            </header>

            <main id="main-content">
                <div id="results-dashboard">
                    <div id="dashboard-placeholder"><p>Enter your resume and a job description to see your analysis.</p></div>
                    <div id="results-content" class="hidden">
                        <div class="result-section">
                            <h3>Match Score</h3>
                            <div class="progress-bar-container">
                                <div id="progress-bar-fill"></div>
                                <span id="score-text">0%</span>
                            </div>
                        </div>
                        <div class="result-section"><h3>Suggested Improvements</h3><div id="improvements-content" class="content-box"></div></div>
                        <div class="result-section"><h3>Suggested Next Steps</h3><div id="next-steps-content" class="content-box"></div></div>
                    </div>
                </div>

                <form id="jd-form">
                    <label for="jd-input">Job Description</label>
                    <textarea id="jd-input" placeholder="Paste the job description here..." maxlength="4000"></textarea>
                    <div class="form-footer">
                        <div id="jd-char-counter" class="char-counter"><span id="jd-current-chars">0</span> / 4000</div>
                        <button type="submit" id="run-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path d="M8 5v14l11-7z"/></svg>
                            <span id="run-button-text">Analyze</span>
                        </button>
                            <button type="button" id="new-analysis-button" class="hidden">New Analysis</button>
                    </div>
                </form>
            </main>
            
            <footer id="app-footer">
                <a href="https://github.com/ethandillon/AIResumeJobMatcher" target="_blank">GitHub</a><span>â€¢</span><a href="#" target="_blank">Medium</a>
            </footer>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>